{% extends "base.html" %}
{% block content %}

<div class="tab-wrapper">
  {% if active_tab == 'billing' %}
  {% include 'admin/billing_tab.html' %}
  {% elif active_tab == 'users' %}
  {% include 'admin/users_tab.html' %}
  {% else %}
  <!-- Default Dashboard Overview -->
  <div class="profile-summary">
    <div class="profile-header">
      <div class="user-info">
        <h2 class="greeting-text"><span id="time-greeting"></span>, Admin {{ current_user.name or '' }}!</h2>
        <p>Hereâ€™s an overview of recent activity on Corona Telecom.</p>
      </div>
    </div>
  </div>

  <div class="dashboard-widgets-grid">
    <div class="dashboard-card notifications-card">
      <h2>Pending Requests</h2>
      <p>No new customer requests at this time.</p>
    </div>
    <div class="dashboard-card status-usage-card">
      <h2>System Summary</h2>
      <p><strong>Total Customers:</strong> 1245</p>
      <p><strong>Active Requests:</strong> 12</p>
      <p><strong>Open Tickets:</strong> 4</p>
      <p><strong>Recent Logins:</strong> 38 today</p>
    </div>
  </div>

  <div class="dashboard-card about-us-container">
    <h2>ADMIN PANEL - CORONA TELECOM</h2>
    <p>This admin panel lets you monitor system activity, assist customers, and manage data and requests.</p>
  </div>
  {% endif %}
</div>

<script>
  function setGreeting() {
    const greetingElement = document.getElementById('time-greeting');
    if (!greetingElement) return;

    const now = new Date();
    const hour = now.getHours();
    let greeting = '';

    if (hour >= 5 && hour < 12) {
      greeting = 'Good Morning';
    } else if (hour >= 12 && hour < 18) {
      greeting = 'Good Afternoon';
    } else {
      greeting = 'Good Evening';
    }

    greetingElement.textContent = greeting;
  }

  document.addEventListener('DOMContentLoaded', setGreeting);
</script>

{% endblock %}